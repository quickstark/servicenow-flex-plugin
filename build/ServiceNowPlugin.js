!function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(n,r,function(t){return e[t]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="/Users/dirknielsen/Documents/GitHub/servicenow-twilio-functions/public",__webpack_require__(__webpack_require__.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadCSS=t.loadJS=t.getRuntimeUrl=t.getAssetsUrl=t.FlexPlugin=t.loadPlugin=void 0;var r=n(3);Object.defineProperty(t,"loadPlugin",{enumerable:!0,get:function(){return r.loadPlugin}}),Object.defineProperty(t,"FlexPlugin",{enumerable:!0,get:function(){return r.FlexPlugin}});var o=n(4);Object.defineProperty(t,"getAssetsUrl",{enumerable:!0,get:function(){return o.getAssetsUrl}}),Object.defineProperty(t,"getRuntimeUrl",{enumerable:!0,get:function(){return o.getRuntimeUrl}});var i=n(5);Object.defineProperty(t,"loadJS",{enumerable:!0,get:function(){return i.loadJS}});var u=n(6);Object.defineProperty(t,"loadCSS",{enumerable:!0,get:function(){return u.loadCSS}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return Math.random().toString(26).slice(2)}},function(e,t,n){e.exports=n(8)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadPlugin=t.FlexPlugin=void 0;var r=function r(e){this.uniqueName="ServiceNowPlugin",this.version="2.1.28",this.dependencies={"flex-plugin-scripts":"4.0.1","flex-plugin":"4.0.1","flex-ui":"1.27.0",react:"16.13.1","react-dom":"16.5.2"},this.name=e,console.log("loading "+this.name+"@"+this.version+" plugin")};t.FlexPlugin=r;t.loadPlugin=function(e){Twilio&&Twilio.Flex&&Twilio.Flex.Plugins?Twilio.Flex.Plugins.init(e):console.warn("This version of Flex does not appear to support plugins.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAssetsUrl=t.getRuntimeUrl=void 0;t.getRuntimeUrl=function(){if(document&&document.currentScript){var e=document.currentScript;if("string"===typeof e.src){var t=e.src;return t.substr(0,t.lastIndexOf("/"))}}return""};t.getAssetsUrl=function(){return t.getRuntimeUrl()+"/assets"}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadJS=void 0;var o=r(n(1));t.loadJS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){var t=document.createElement("script");t.id="external-js-"+o.default(),t.type="text/javascript",t.src=e,document.body.appendChild(t)}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadCSS=void 0;var o=r(n(1));t.loadCSS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){var t=document.createElement("link");t.id="external-css-"+o.default(),t.rel="stylesheet",t.type="text/css",t.media="all",t.href=e,document.head.appendChild(t)}))}},function(e,t){e.exports=React},function(e,t,n){"use strict";n.r(t);var r=n(0);function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _typeof(e){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!==typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}n(7);var o=function(e){!function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ServiceNowPlugin,e);var t=_createSuper(ServiceNowPlugin);function ServiceNowPlugin(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ServiceNowPlugin),t.call(this,"ServiceNowPlugin")}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ServiceNowPlugin,[{key:"init",value:function init(e,t){var n="accept_task",r="complete_task";e.AgentDesktopView.defaultProps.showPanel2=!1,e.Actions.addListener("beforeAcceptTask",(function(t){return t.eventType=n,e.Actions.invokeAction("ForwardEventToServiceNow",t)})),e.Actions.addListener("beforeCompleteTask",(function(t){return t.eventType=r,e.Actions.invokeAction("ForwardEventToServiceNow",t)})),e.Actions.registerAction("ForwardEventToServiceNow",(function(e){var t={worker:e.task.source._worker.attributes,task:{sid:e.task.sid,attributes:e.task.attributes},eventType:e.eventType};console.log(t);var n={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}};console.log("SERVERLESS BASE URL: ".concat("https://default-5501-dev.twil.io"));var r="".concat("https://default-5501-dev.twil.io","/task_event");fetch(r,n).then((function(e){return e.json()})).then((function(t){console.log("////////////////////////////"),console.log(e.eventType),console.log(t),console.log("////////////////////////////")})).catch((function(e){throw console.log(e),e}))})),t.strings.TaskInfoPanelContent="\n    <h1>Customer Info</h1>\n    <h2>Name</h2>\n    <p>{{task.attributes.user.name}}</p>\n    <h2>Title</h2>\n    <p>{{task.attributes.user.title}}</p>\n    <h2>Department</h2>\n    <p>{{task.attributes.user.department}}</p>\n    <h2>Phone</h2>\n    <p>{{task.attributes.user.phone}}</p>\n    <h2>Location</h2>\n    <p>{{task.attributes.user.location}}</p>\n    <h2>user_sys_id</h2>\n    <p>{{task.attributes.user_sys_id}}</p>\n    <hr />\n    <h1>Task Info</h1>\n    <h2>Ticket #</h2>\n    <p>{{task.attributes.ticket_number}}</p>\n    <h2>SID</h2>\n    <p>{{task.sid}}</p>\n    <h2>Channel</h2>\n    <p>{{task.attributes.channelType}}</p>\n    <h2>Priority</h2>\n    <p>{{task.priority}}</p>\n    <h2>Create Date</h2>\n    <p>{{task.dateCreated}}</p>\n    <hr />\n    "}}]),ServiceNowPlugin}(r.FlexPlugin);r.loadPlugin(o)}]);
//# sourceMappingURL=bundle.js.map