{"map":{"version":3,"sources":["ServiceNowPlugin.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","loadCSS","loadJS","getRuntimeUrl","getAssetsUrl","FlexPlugin","loadPlugin","flex_plugin_1","runtime_1","loadJS_1","loadCSS_1","default","Math","random","toString","slice","this","uniqueName","version","dependencies","flex-plugin-scripts","flex-plugin","flex-ui","react","react-dom","console","log","plugin","Twilio","Flex","Plugins","init","warn","document","currentScript","pluginScript","src","pluginUrl","substr","lastIndexOf","__importDefault","mod","shortid_1","srcArray","_i","arguments","length","forEach","script","createElement","id","type","body","appendChild","hrefArray","href","link","rel","media","head","React","__webpack_exports__","dist","_defineProperties","target","props","descriptor","configurable","writable","_setPrototypeOf","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","_typeof","obj","iterator","constructor","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","_createSuperInternal","result","Super","NewTarget","apply","ServiceNowPlugin_ServiceNowPlugin","_FlexPlugin","_inherits","subClass","superClass","TypeError","ServiceNowPlugin","_super","_classCallCheck","instance","Constructor","_createClass","protoProps","staticProps","flex","manager","eventType","AgentDesktopView","defaultProps","showPanel2","Actions","addListener","payload","invokeAction","registerAction","data","worker","task","source","_worker","attributes","sid","options","method","JSON","stringify","headers","Content-Type","fetch","then","resp","json","error","strings","TaskInfoPanelContent"],"mappings":"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"},"code":"!function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&\"object\"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)__webpack_require__.d(n,r,function(t){return e[t]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,\"a\",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p=\"/Users/dirknielsen/Documents/GitHub/plugin-sample/public\",__webpack_require__(__webpack_require__.s=2)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadCSS=t.loadJS=t.getRuntimeUrl=t.getAssetsUrl=t.FlexPlugin=t.loadPlugin=void 0;var r=n(3);Object.defineProperty(t,\"loadPlugin\",{enumerable:!0,get:function(){return r.loadPlugin}}),Object.defineProperty(t,\"FlexPlugin\",{enumerable:!0,get:function(){return r.FlexPlugin}});var o=n(4);Object.defineProperty(t,\"getAssetsUrl\",{enumerable:!0,get:function(){return o.getAssetsUrl}}),Object.defineProperty(t,\"getRuntimeUrl\",{enumerable:!0,get:function(){return o.getRuntimeUrl}});var i=n(5);Object.defineProperty(t,\"loadJS\",{enumerable:!0,get:function(){return i.loadJS}});var u=n(6);Object.defineProperty(t,\"loadCSS\",{enumerable:!0,get:function(){return u.loadCSS}})},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){return Math.random().toString(26).slice(2)}},function(e,t,n){e.exports=n(8)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadPlugin=t.FlexPlugin=void 0;var r=function r(e){this.uniqueName=\"ServiceNowPlugin\",this.version=\"2.1.7\",this.dependencies={\"flex-plugin-scripts\":\"4.7.7-beta.0\",\"flex-plugin\":\"4.7.7-beta.0\",\"flex-ui\":\"1.25.4\",react:\"16.13.1\",\"react-dom\":\"16.5.2\"},this.name=e,console.log(\"loading \"+this.name+\"@\"+this.version+\" plugin\")};t.FlexPlugin=r;t.loadPlugin=function(e){Twilio&&Twilio.Flex&&Twilio.Flex.Plugins?Twilio.Flex.Plugins.init(e):console.warn(\"This version of Flex does not appear to support plugins.\")}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getAssetsUrl=t.getRuntimeUrl=void 0;t.getRuntimeUrl=function(){if(document&&document.currentScript){var e=document.currentScript;if(\"string\"===typeof e.src){var t=e.src;return t.substr(0,t.lastIndexOf(\"/\"))}}return\"\"};t.getAssetsUrl=function(){return t.getRuntimeUrl()+\"/assets\"}},function(e,t,n){\"use strict\";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadJS=void 0;var o=r(n(1));t.loadJS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){var t=document.createElement(\"script\");t.id=\"external-js-\"+o.default(),t.type=\"text/javascript\",t.src=e,document.body.appendChild(t)}))}},function(e,t,n){\"use strict\";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadCSS=void 0;var o=r(n(1));t.loadCSS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){var t=document.createElement(\"link\");t.id=\"external-css-\"+o.default(),t.rel=\"stylesheet\",t.type=\"text/css\",t.media=\"all\",t.href=e,document.head.appendChild(t)}))}},function(e,t){e.exports=React},function(e,t,n){\"use strict\";n.r(t);var r=n(0);function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _typeof(e){return(_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||\"object\"!==_typeof(t)&&\"function\"!==typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function _createSuper(e){var t=function _isNativeReflectConstruct(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}n(7);var o=function(e){!function _inherits(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ServiceNowPlugin,e);var t=_createSuper(ServiceNowPlugin);function ServiceNowPlugin(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,ServiceNowPlugin),t.call(this,\"ServiceNowPlugin\")}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ServiceNowPlugin,[{key:\"init\",value:function init(e,t){var n=\"accept_task\",r=\"complete_task\";e.AgentDesktopView.defaultProps.showPanel2=!1,e.Actions.addListener(\"beforeAcceptTask\",(function(t){return t.eventType=n,e.Actions.invokeAction(\"ForwardEventToServiceNow\",t)})),e.Actions.addListener(\"beforeCompleteTask\",(function(t){return t.eventType=r,e.Actions.invokeAction(\"ForwardEventToServiceNow\",t)})),e.Actions.registerAction(\"ForwardEventToServiceNow\",(function(e){var t={worker:e.task.source._worker.attributes,task:{sid:e.task.sid,attributes:e.task.attributes},eventType:e.eventType};console.log(t);var n={method:\"POST\",mode:\"no-cors\",body:JSON.stringify(t),headers:{\"Content-Type\":\"application/json\"}};fetch(\"https://serverless-servicenow-8067-dev.twil.io/task_event\",n).then((function(e){return e.json()})).then((function(t){console.log(\"////////////////////////////\"),console.log(e.eventType),console.log(t),console.log(\"////////////////////////////\")})).catch((function(e){throw console.log(e),e}))})),t.strings.TaskInfoPanelContent=\"\\n    <h1>Customer Info</h1>\\n    <h2>Name</h2>\\n    <p>{{task.attributes.user.name}}</p>\\n    <h2>Title</h2>\\n    <p>{{task.attributes.user.title}}</p>\\n    <h2>Department</h2>\\n    <p>{{task.attributes.user.department}}</p>\\n    <h2>Phone</h2>\\n    <p>{{task.attributes.user.phone}}</p>\\n    <h2>Location</h2>\\n    <p>{{task.attributes.user.location}}</p>\\n    <h2>user_sys_id</h2>\\n    <p>{{task.attributes.user_sys_id}}</p>\\n    <hr />\\n    <h1>Task Info</h1>\\n    <h2>Ticket #</h2>\\n    <p>{{task.attributes.ticket_number}}</p>\\n    <h2>SID</h2>\\n    <p>{{task.sid}}</p>\\n    <h2>Channel</h2>\\n    <p>{{task.attributes.channelType}}</p>\\n    <h2>Priority</h2>\\n    <p>{{task.priority}}</p>\\n    <h2>Create Date</h2>\\n    <p>{{task.dateCreated}}</p>\\n    <hr />\\n    \"}}]),ServiceNowPlugin}(r.FlexPlugin);r.loadPlugin(o)}]);","extractedComments":[]}